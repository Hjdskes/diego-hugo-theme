<!DOCTYPE html>
<head>
  <meta charset="utf-8"/>
  <meta name="author" content="{{ .Params.Author | default .Site.Author.name }}"/>
  <meta name="description" content="{{ if .IsHome }}{{ .Site.Params.description }}{{ else if .IsPage }}{{ .Description }}{{ end }}"/>
  {{ .Hugo.Generator }}
  <meta name="referrer" content="no-referrer"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

  <meta property="og:description" content="{{ if .IsHome }}{{ .Site.Params.description }}{{ else if .IsPage }}{{ .Description }}{{ end }}"/>
  <meta property="og:locale" content="{{ .Site.LanguageCode }}"/>
  <meta property="og:site_name" content="{{ .Site.Title }}"/>
  <meta property="og:title" content="{{ if .Title }}{{ .Title }}{{ else }}{{ .Site.Title }}{{ end }}"/>
  <meta property="og:type" content="article"/>
  <meta property="og:url" content="{{ .Permalink }}"/>
  <meta property="og:image" content="{{ .Site.Params.logofile | absURL }}"/>

  <title>
    {{- $url := replace .Permalink ( printf "%s" .Site.BaseURL) "" -}}
    {{- if eq $url "" -}}
      {{ .Site.Title }}
    {{- else -}}
      {{ if .Params.heading }} {{ .Params.heading }} {{ else }} {{ .Site.Title }} - {{ .Title }} {{ end }}
    {{- end -}}
  </title>

  <link rel="canonical" href="{{ .Permalink }}"/>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Nunito|Quicksand|Roboto+Mono"/>
  <link rel="stylesheet" type="text/css" href="/css/stylesheet.css"/>
  <link rel="stylesheet" type="text/css" href="/css/syntax.css"/>
  <link rel="stylesheet" type="text/css" href="/css/zoom.css"/>
  {{ if .RSSLink }}
  <link rel="alternate" type="application/rss+xml" href="{{ .RSSLink }}" title="{{ .Site.Title }}"/>
  {{ end }}
  <link rel="shortcut icon" href="{{ .Site.BaseURL }}img/favicon.ico"/>

  <script defer type="text/javascript" src="/js/zoom-vanilla.js"></script>
  <script type="text/javascript">
    document.addEventListener('DOMContentLoaded', function() {
	images = document.querySelectorAll("img[data-action=\"zoom\"]");
	images.forEach(function(image) {
	    image.style.display = "block";
	})
    }, false);
  </script>
</head>

<body>
  <div class="banner">
    <a href="{{ .Site.BaseURL }}"><img class="logo" src="{{ .Site.Params.logofile | absURL }}" alt="logo" /></a>
    <div>
      <a id="name" href="{{ .Site.BaseURL }}"><h1>{{ .Site.Title }}</h1></a>
      <nav>
        {{ if ne (len (where .Site.RegularPages "Section" "blog")) 0 }}
        <a href="/blog/">Blog</a>
        {{ end }}
        {{ range $.Site.Home.Sections }}
          {{ range first 1 (where .Pages "Section" "ne" "")}}
            {{ if ne .Section "blog"}}
              <a href="{{ .Section | urlize | absURL }}">{{ humanize .Section }}</a>
            {{ end }}
          {{ end }}
        {{ end }}
        {{ range where .Site.RegularPages "Section" ""}}
          {{ if and (ne .Title "License") (ne .Title "Home")}}
            <a href="{{ .Permalink }}">{{ humanize .Title }}</a>
          {{ end }}
        {{ end }}
      </nav>
    </div>
  </div>
